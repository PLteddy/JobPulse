{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/inscription.css') }}">
{% endblock %}

{% block body %}
<section class="inscription-section container">
    <div class="inscription-div">
        <h1>Inscription</h1>
        <form action="{{ path('inscription', { type: type }) }}" method="POST" enctype="multipart/form-data">
            <!-- Champs spécifiques à l'Entreprise -->
            {% if type == 'entreprise' %}
            <div id="entreprise-fields">

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="nom">Nom*</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>

                    <div class="colonne-div">
                        <label for="siret">N° de SIRET*</label>
                        <input type="text" id="siret" name="siret" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="email">E-mail*</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="colonne-div">
                        <label for="password">Mot de passe*</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="adresse">Adresse de l'entreprise*</label>
                        <input type="text" id="adresse" name="adresse" required>
                    </div>
                </div>



                

                

                

                
            </div>
            {% endif %}

            <!-- Champs spécifiques au Candidat -->
            {% if type == 'etudiant' %}
            <div id="candidat-fields">

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="nom">Nom*</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>

                    <div class="colonne-div">
                        <label for="prenom">Prénom*</label>
                        <input type="text" id="prenom" name="prenom" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="email">E-mail*</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="colonne-div">
                        <label for="password">Mot de passe*</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="ville">Ville*</label>
                        <input type="text" id="ville" name="ville">
                    </div>
                    <div class="colonne-div">
                        <!-- Champ pour le CV -->
                        <label for="cv" class="visually-hidden">CV</label>
                        <input type="file" id="cv" name="cv" accept=".pdf" style="display: none;">
                        <button type="button" class="bouton-connexion" onclick="document.getElementById('cv').click()">
                            CV<img 
                            src="{{ asset('img/enregistrer-icone.png') }}"
                            alt="icone de téléchargement">

                        </button>
                        <span id="cv-filename" class="cv-filename">Aucun fichier sélectionné</span>
                    </div>
                </div>
                
            </div>
            {% endif %}

            <!-- Champs spécifiques au Tuteur -->
            {% if type == 'tuteur' %}
            <div id="tuteur-fields">

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="nom">Nom*</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>

                    <div class="colonne-div">
                        <label for="prenom">Prénom*</label>
                        <input type="text" id="prenom" name="prenom" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="email">E-mail*</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="colonne-div">
                        <label for="password">Mot de passe*</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                </div>

                <div class="lignes-div">
                    <div class="colonne-div">
                        <label for="etablissement">Établissement*</label>
                        <input type="text" id="etablissement" name="etablissement" required>
                    </div>
                </div>
            </div>
            {% endif %}

            <button type="submit" class="bouton-connexion">Valider</button>
        </form>
    </div>
</section>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const cvInput = document.getElementById('cv');
        const cvFilename = document.getElementById('cv-filename');

        cvInput.addEventListener('change', function () {
            if (cvInput.files.length > 0) {
                cvFilename.textContent = cvInput.files[0].name; // Affiche le nom du fichier
            } else {
                cvFilename.textContent = 'Aucun fichier sélectionné'; // Message par défaut
            }
        });
    });
</script>
{% endblock %}